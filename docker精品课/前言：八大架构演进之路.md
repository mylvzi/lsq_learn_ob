单机架构--》应用数据分离架构--》应用服务集群架构--》读写分离架构--》冷热分离架构--》垂直分库架构 --》微服务架构 --》容器化架构

# 架构一：单机架构

![[img/Pasted image 20260227221714.png]]

**优点**：部署简单，维护方便，开发测试快

**缺点**：
- 应用服务和数据服务竞争资源（CPU、内存、IO）
- 可用性差（单点故障）
- 并发能力有限

**出现原因**：早期业务量小，一台机器足够，不需要复杂架构

---

# 架构二：应用数据分离架构

![[img/Pasted image 20260227221910.png]]

> 应用服务和存储服务部署到不同的服务器上，不会存在资源竞争问题

**优点**：应用与数据分离，消除资源竞争问题

**缺点**：
- 单台应用服务器并发能力有限
- 数据库压力逐渐增大

**出现原因**：单机架构下资源竞争严重，将应用和数据分离可提升性能

---

# 架构三：应用服务集群架构

![[img/Pasted image 20260227222455.png]]

> 引入 Nginx 作为负载均衡器，分发请求到多台应用服务器

**优点**：
- 提高并发处理能力
- 提高系统可用性（单节点故障不影响整体）

**缺点**：
- 数据库成为性能瓶颈
- 引入负载均衡复杂度

**出现原因**：单台应用服务器无法满足增长的并发需求

---

# 架构四：读写分离架构

![[img/Pasted image 20260227222856.png]]

**优点**：
- 减轻数据库读压力（互联网业务读多写少）
- 提高系统整体吞吐量

**缺点**：
- 数据同步延迟问题
- 写入压力仍然集中

**出现原因**：互联网业务"读多写少"，数据库读是主要瓶颈

---

# 架构五：冷热分离架构

![[img/Pasted image 20260227223213.png]]

**优点**：
- 热点数据访问快（内存/SSD）
- 减轻数据库压力
- 降低存储成本

**缺点**：
- 数据一致性维护复杂
- 冷热数据划分策略需谨慎

**出现原因**：遵循二八原则，20%热点数据占用80%访问量

---

# 架构六：垂直分库架构

![[img/Pasted image 20260227223351.png]]

**优点**：
- 解决单库性能瓶颈
- 业务解耦更清晰
- 便于独立优化

**缺点**：
- 跨库事务问题
- 查询复杂度增加
- 维护成本上升

**出现原因**：数据量持续增长，单库无法支撑

---

# 架构七：微服务架构

![[img/Pasted image 20260227223747.png]]

**优点**：
- 服务独立部署，开发迭代快
- 技术异构性强
- 故障隔离好

**缺点**：
- 分布式系统复杂性（调用链路长）
- 运维成本高
- 数据一致性挑战

**出现原因**：应用访问增多，需快速迭代交付，适应敏捷开发

---

# 架构八：容器化架构

![[img/Pasted image 20260227223859.png]]

* docker：容器化工具，将一个服务打包为容器，不同的服务对应不同的容器

* K8s：容器编排工具，负责管理被 docker 打包的容器

**优点**：
- 环境一致性好（"在我机器上能运行"问题解决）
- 弹性伸缩快
- 资源利用率高

**缺点**：
- 学习成本高
- 容器网络、存储等复杂性
- 引入新运维挑战

**出现原因**：微服务过多导致环境冲突、部署效率低，无法快速响应大促等场景的弹性伸缩需求

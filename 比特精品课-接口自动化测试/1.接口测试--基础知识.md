# 一.接口
接口(interface)一般有两种
1. 程序内部接口,比如你在Java代码里写的interface,是**程序内部之间模块的交互**
2. 系统对外的接口:API(Application Programming Interface), 是系统之间交互的接口.是向项目外部提供的入口
* 发帖需要登录,需要调用登录接口,这就是**内部接口**
* 查数据,不能直接访问数据库,而是通过外部接口接受返回的数据
课程主要基于**HTTP API**接口测试

一个项目应该有对应的**接口文档**,告诉开发者/用户接口的功能,一个接口的信息主要包括以下几个方面
1. 接口说明:接口的主要功能
2. 接口入参,出参(返回值)
3. 请求方法,URL,Query String
4. 参数说明:明确参数的含义,限制等等

# 二.接口测试
接口测试和功能测试的目的一样,都是为了保障项目的正常运行,减少bug,提升用户体验
接口测试相较于功能测试**更加简单**,这个简单是指要考虑的东西没有功能测试那么繁杂

注意: header和入参的区别
header和入参都是发送给服务器的,不过也存在明显的区别
1. 位置不同:入参一般是作为URL的一部分存在(query string), header一般是首行之后另起一行,是请求头
2. 作用不同:入参是查询服务器中的某一个资源,header一般是存储一些用户状态信息(比如JWT,cookie,localstroage等等)
3. 服务器先接收header,根据header判断是否有对应的权限,有权限才会接收入参完成对应的查询

# 三.接口测试重要性
测试要测试所有的路径,访问接口的路径有很多条
1. UI界面触发:前端会监听到对应的请求
2. 绕过前端直接访问接口:使用一些接口测试工具/直接在浏览器中输入Request Url访问接口等等
3. 黑客恶意访问等等

**前端正确不一定其他路径就正确**
测试是要保证多个路劲都是正确的,要保证**条条大路通罗马**
前端存在限制,后端接口也需要限制,比如账号的长度等等
有可能是直接访问接口,绕过前端(比如使用postman直接发送接口请求)
四个重要性:
1. 可以发现很多在页面操作无法触发的bug
2. 确保系统处理异常的能力
3. 确保系统的稳定性
4. 前端随便变,接口测试正确,后端就不用关了

# 四.如何进行接口测试
**前置知识:**
get请求的query string 直接存储在url之中,我们直接输入url就可以模拟get请求
post请求的query string 是存储在请求报文的body之中,无法通过浏览器模拟,只能通过接口测试工具实现

HTTP状态码:[HTTP状态码详细描述](https://blog.csdn.net/Mylvzi/article/details/148830981?ops_request_misc=%257B%2522request%255Fid%2522%253A%25226184c2e4328794dc694ec350f9674274%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fblog.%2522%257D&request_id=6184c2e4328794dc694ec350f9674274&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~blog~first_rank_ecpm_v1~rank_v31_ecpm-2-148830981-null-null.nonecase&utm_term=http&spm=1018.2226.3001.4450)

>接口测试最重要的是设计出一个强壮,高效,全面的测试用例

两步走:通过接口文档 + 业务逻辑设计测试用例

## 1.接口文档
> 要测试的接口一般都有对应的**接口文档**, 对于接口测试来说,接口文档是最重要的依据
> 我们的测试工作也是依照着接口文档完成对应的测试, 那如何对着接口文档进行测试呢?具体来说可以分为以下四个方面
### 1.通过性验证
先保证主流程能通  按照接口文档提供的标准参数, 完成一次正向测试
类似于功能测试中的**冒烟测试**
### 2.参数组合  
每一个接口都会有对应的**参数说明**,明确接口参数的类型,状态(必填/非必填等),限制等等,我们按照提供的参数进行参数组合,保证各个组合都能通过

在这个过程中也可以使用功能测试中一些组织参数的方法,比如正交表法等
### 3.接口安全
* 绕过前端验证:直接通过接口测试工具发送对应的请求(比如接口参数伪造)  买东西
* 越权验证:**垂直/水平**   403 FORBIDDEN  垂直越权就是普通用户访问了管理员用户 水平越权就是访问了另一个用户的账号
* 参数加密(隐私数据安全):在传输的过程中是否加密,如果通过抓包工具捕获到后能否破解
* 密码安全规则  密码太简单,后端返回异常信息  比如必须 大小写字母 + 数字 + 特殊字符
### 4. 异常验证
不按照接口文档设计的参数测试接口    破坏接口文档的规则!验证这个规则是否生效!

## 2.业务逻辑
除了接口文档,我们还需要根据自己所负责的具体业务去考虑对应的测试用例编写
比如comate业务  不同的license有不同的功能  比如免费用户只有100次面试zulu的使用次数
那我们就要测试超过100次之后能否继续执行,有没有计数等

一个完整的测试用例应该包括:
编号 + 标题 + 前置条件 + 测试步骤 + 预期结果 + 实际结果 + 测试结果
# 一.基础概念
## 1.定义
> 索引是MySQL中用于**加快查询速度**的一种机制,本质上是一种**数据结构**

新华字典查字--根据目录查找到要查询字的所在页数--直接访问  **速度快**
如果是从头往前翻,速度就会很慢  其实上述查字典的方式就是一种**哈希映射**

## 2.基本使用
创建索引
```sql
create index idx_name on table(colume asc);
```

* index:索引关键字
* idx_name:创建的索引名称
* table(colume):为哪个表的哪个列创建索引
* asc:指定索引的排序顺序,asc也可以不加,默认就是升序排序;降序:desc
[[为什么索引要指定排序顺序]]

查看索引
```sql
show index from tables;
```

删除索引
```sql
drop index idx_name on table;
```
## 3.索引的类型
1. INDEX:普通索引,允许有重复值
2. UNIQUE:唯一索引, 列值必须唯一
3. PRIMARY KEY:主键索引, 唯一且非空, 一个表只能有一个
4. FULLTEXT:全文索引, 适用于文本的搜索
5. 复合索引:就是在创建索引时,一次性绑定表中的两个字段

```sql
create index idx_name_age on user(name, age);
```

## 4.索引的数据结构
> 索引本质上是一种**数据结构**,通过一些高效的数据组织格式来加快数据的访问速度,提高性能;

## 5,MySQL如何执行呢
假设有如下查询功能
```sql
select * from user where name = 'lvzi';
```

1. 判断name列是否被创建了索引
		如果没有--全盘扫描
2. 如果存在索引--索引节点(id -- name = 'lvzi)
3. 返回对应id的数据

**先根据索引快速定位, 再去表中拿数据**


# 二.常见面试题

## 1.索引的优点与缺点
**优点**
1. 加快访问速度,避免全盘扫描,提升数据库的查询效率
2. 加快排序,分组操作; 在查询的过程中如果涉及到order by或者group by等场景, 可以为要排序/分组的列创建索引, 加快排序/分组的效率
3. 加快多表关联的速度, 提高匹配的速度, 避免对外键的全盘扫描
4. 保证数据的唯一性,主要是通过UNIQUE和PRIMARY KEY两个关键字实现**索引 + 唯一性**约束

**缺点**
1. 占用存储空间:本质是通过**数据结构**管理数据, 创建的数据结构会占用磁盘空间, 数据量越大, 对应索引占用的磁盘空间就越大
2. 影响写入性能:每修改一次数据库表,就需要维护对应的索引结构;对于一些高并发的场景, 涉及频繁大量的写入数据, 索引的优化就没有必要了
3. 如果字段选择不正确,查询效率反而会变慢:如果为**低选择性字段**创建索引, 实际的查询效率会比没有创建索引慢(所谓的低选择性就是列的值重复度极高,比如gender列,只有男/女, 重复度极高 此时不如直接按顺序从表中选取)
4. 复合索引顺序敏感, 如果没有按照顺序查询, 可能**无法命中索引**[[复合索引顺序敏感]]


## 2.索引数据结构详解
> 数据都是存储在磁盘之中的,所以数据库的交互都是基于磁盘io的,而磁盘io是一个非常耗时的操作,索引之所以能提高性能,就在于索引能够减少**磁盘io的次数**

所以通过B+树这种多级索引结构就可以减少磁盘的交互,提升性能
[todo] 等学习完高阶数据结构之后再来复习
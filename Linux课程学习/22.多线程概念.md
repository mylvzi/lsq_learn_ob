# 单例模式
`饿汉模式 : 程序启动时就创建类的唯一实例`
```c++
#include <iostream>

/*
    单例模式 -- 饿汉模式
*/
class SingleInstance
{
public:
    // 只提供获取实例的方法
    static SingleInstance& GetInstance()
    {
        return _instance;
    }

    SingleInstance(const SingleInstance&) = delete; // 删除拷贝构造函数
    SingleInstance& operator=(const SingleInstance&) = delete; // 删除拷贝复制函数

private:
    SingleInstance() = default;// 构造函数私有
    static SingleInstance _instance;
};

SingleInstance SingleInstance::_instance;// 程序启动时就创建好
```

`懒汉模式 : 需要使用的时候再加载`
```c++
#include <iostream>
#include <mutex>
/**
 * 单例模式 -- 饿汉模式
 */
class SingleTon
{
public:
    static SingleTon *GetInstance()
    {
        if (_singleTon == nullptr) // 减少加锁的频率
        {
            std::lock_guard<std::mutex> lock(_mutex); // 维护单例模式设计原则
            if (_singleTon == nullptr)
            {
                _singleTon = new SingleTon();
            }
        }

        return _singleTon;
    }

    SingleTon(const SingleTon &) = delete;
    SingleTon &operator=(const SingleTon &) = delete;

private:
    SingleTon() = default;
    static SingleTon *_singleTon;
    static std::mutex _mutex;
};
```

# 可重入 VS 线程安全
>函数可重入,则一定是线程安全的
>函数线程安全, 不一定是可重入

* 可重入状态 : 没有共享资源可以被访问  表示能不能同时被多个执行流进入
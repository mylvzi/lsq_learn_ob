>gdb是一个用于**代码调试**的工具,是纯命令行的

`前言`
项目一般有两种:
* debug : 调试版本,用于开发人员进行调试
* release : 发布版本  用户实际使用的版本,测试人员测试的版本  打的包一般就是release版本
debug版本相较于release版本有两点不同:
* debug 体积 > release体积
* debug版本中包含更多的调试信息

![[Pasted image 20251023145942.png]]
* 注 : gcc默认情况下采用的是release版本
* gcc -g : 生成debug版本的可执行程序  附带调试信息
**查看调试信息 readelf**
```shell
readelf -S demo1.debug
```
![[Pasted image 20251023150433.png]]
* 注: elf(Executable and Linkable Format，可执行与可链接文件格式)  是Linux下可执行程序的文件格式
# gdb常用命令
```bash
gdb demo.debug  # 进入要调试的代码
quit/q  # 退出gdb
list/l main/0 # 查看程序  main 查看main函数  0 从头开始查看
breakpoint/b main/15 # 给main/17行设置断点
enable 1 # 启用序号1断点  断点内部是通过线性的计数器实现的
disable 1 # 禁用序号1断点
info b # 查看所有断点信息
run/r # 运行程序
next/n # 逐过程执行程序  不进入函数
step/s # 逐语句执行程序  进入函数
print/p # 打印变量值  print i print &i 也可以打印地址
display i # 常显示变量的值
undisplay 1 # 取消常显示  这里后面跟的是变量对应的序号
continue/c # 自动执行到下一个断点停止
finish # 执行完当前位置所在函数就停止
until # 跳转到指定行  这之间的代码自动执行
set var i=1 # 内存级别设置变量的值
delete/d 1 # 删除对应序号的断点
```

* 按enter会自动执行上一条命令
* 调试的本质是帮助我们**定位错误**,这些工具只是为了帮助我们快速定位,如何解决错误还是要看我们,如何快速利用工具定位错误也是我们需要学习的,无论是图形化界面还是gdb这种纯命令行,都要按照**先大后小**的原则快速定位错误,以gdb为例 : 
* 先进行大范围的设置断点,利用`continue`命令快速执行到下一个断点
* 确定大区间后,可以使用next逐过程或step逐语句逐步调试
* 也可使用finish/until等命令快速在函数内部进行调试
![[Pasted image 20251023151602.png]]